<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <h1>Hello universe</h1> 
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict Stroke Risk - Stroke Prediction App</title>
    <style>
        /* General Body & Reset Styles */
        body, h1, h2, h3, p, ul, li, a, section, div, form, input, select, button, footer {
            margin: 0;
            padding: 0;
            box-sizing: border-box; /* Include padding and border in the element's total width and height */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: #f4f7f6;
            color: #333;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Ensures footer stays at the bottom */
        }

        /* Header Styles */
        header {
            background-color: #2c3e50; /* Dark blue-grey */
            color: #fff;
            padding: 1.5rem 0;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        header h1 {
            margin: 0;
            font-size: 2.8rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Navigation Bar Styles */
        nav {
            background-color: #34495e; /* Slightly darker blue-grey */
            width: 100%;
            padding: 0.8rem 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            margin: 0 auto;
            max-width: 1200px; /* Limit nav width */
        }

        nav ul li {
            margin: 0 20px;
        }

        nav ul li a {
            color: #ecf0f1;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: bold;
            transition: color 0.3s ease, border-bottom 0.3s ease;
            padding-bottom: 5px; /* For the underline effect */
            border-bottom: 2px solid transparent; /* Initial transparent border */
        }

        nav ul li a:hover,
        nav ul li a.active { /* 'active' class can be added by JS for current page */
            color: #5d9cec; /* Light blue on hover */
            border-bottom: 2px solid #5d9cec; /* Underline effect */
        }

        /* Main Content Styling */
        main {
            flex-grow: 1; /* Allows main content to expand and push footer down */
            max-width: 800px; /* Slightly narrower for the form page */
            margin: 30px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        section {
            padding: 20px;
            text-align: center;
        }

        section h2 {
            color: #34495e;
            font-size: 2.2rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #5d9cec;
            padding-bottom: 10px;
            display: inline-block;
        }

        /* Predict Now Form Styling */
        #predict-form-section {
            text-align: left; /* Align form content to left */
        }

        #predict-form-section form {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Two columns for form fields */
            gap: 20px;
            max-width: 700px;
            margin: 0 auto;
        }

        #predict-form-section .form-group {
            display: flex;
            flex-direction: column;
        }

        #predict-form-section .form-group label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #555;
            font-size: 0.95rem;
        }

        #predict-form-section .form-group input,
        #predict-form-section .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1rem;
            background-color: #f9f9f9;
        }

        #predict-form-section .form-group input:focus,
        #predict-form-section .form-group select:focus {
            border-color: #5d9cec;
            outline: none;
            box-shadow: 0 0 0 2px rgba(93, 156, 236, 0.2);
        }

        #predict-form-section button {
            grid-column: 1 / -1; /* Make button span across both columns */
            display: block;
            width: 100%;
            padding: 12px 20px;
            background-color: #5d9cec; /* Light blue */
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }

        #predict-form-section button:hover {
            background-color: #4a8ddc; /* Darker blue on hover */
        }

        #prediction-result-display {
            text-align: center;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 1.3rem;
            font-weight: bold;
            display: none; /* Hidden by default, shown by JS */
            background-color: #d4edda;
            color: #28a745;
        }

        #prediction-result-display.result-stroke {
            background-color: #f8d7da;
            color: #dc3545;
        }

        #prediction-result-display.result-no-stroke {
            background-color: #d4edda;
            color: #28a745;
        }

        /* Footer Styles */
        footer {
            text-align: center;
            padding: 25px;
            background-color: #34495e;
            color: #ecf0f1;
            font-size: 0.9rem;
            margin-top: 40px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.2rem;
            }

            nav ul {
                flex-wrap: wrap; /* Allow nav items to wrap */
                padding: 0 10px;
            }

            nav ul li {
                margin: 8px 10px;
            }

            nav ul li a {
                font-size: 1rem;
            }

            main {
                margin: 20px auto;
                padding: 15px;
            }

            section h2 {
                font-size: 1.8rem;
            }

            #predict-form-section form {
                grid-template-columns: 1fr; /* Single column for form fields */
            }

            #predict-form-section button {
                grid-column: auto;
            }
        }

        @media (max-width: 480px) {
            header {
                padding: 1rem 0;
            }

            header h1 {
                font-size: 1.8rem;
            }

            header p {
                font-size: 1rem;
            }

            nav ul li {
                margin: 5px 8px;
            }

            nav ul li a {
                font-size: 0.9rem;
            }

            main {
                margin: 15px auto;
                padding: 10px;
            }

            section h2 {
                font-size: 1.5rem;
            }

            #predict-form-section .form-group label {
                font-size: 0.9rem;
            }

            #predict-form-section .form-group input,
            #predict-form-section .form-group select {
                padding: 8px;
                font-size: 0.9rem;
            }

            #predict-form-section button {
                font-size: 1.1rem;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Stroke Prediction App</h1>
        <p>Your Health, Our Insights</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html#home">Home</a></li>
            <li><a href="index.html#about">About Us</a></li>
            <li><a href="index.html#how-it-works">How It Works</a></li>
            <li><a href="predict.html" class="active">Predict Now</a></li>
            <li><a href="index.html#contact">Contact</a></li>
        </ul>
    </nav>

    <main>
        <section id="predict-form-section">
            <h2>Predict Your Stroke Risk</h2>
            <p style="text-align: center; margin-bottom: 25px; color: #555;">Enter the patient's data below to get an instant stroke risk prediction. All fields are required.</p>
            <form id="strokePredictForm" method="POST">
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" min="0" max="120" placeholder="e.g., 67" required>
                </div>

                <div class="form-group">
                    <label for="hypertension">Hypertension (High Blood Pressure):</label>
                    <select id="hypertension" name="hypertension" required>
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="heart_disease">Heart Disease:</label>
                    <select id="heart_disease" name="heart_disease" required>
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="ever_married">Ever Married:</label>
                    <select id="ever_married" name="ever_married" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="work_type">Work Type:</label>
                    <select id="work_type" name="work_type" required>
                        <option value="Private">Private</option>
                        <option value="Self-employed">Self-employed</option>
                        <option value="Govt_job">Govt Job</option>
                        <option value="children">Children</option>
                        <option value="Never_worked">Never Worked</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="residence_type">Residence Type:</label>
                    <select id="residence_type" name="Residence_type" required>
                        <option value="0">Rural</option>
                        <option value="1">Urban</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="avg_glucose_level">Average Glucose Level:</label>
                    <input type="number" id="avg_glucose_level" name="avg_glucose_level" step="0.01" min="0" placeholder="e.g., 228.69" required>
                </div>

                <div class="form-group">
                    <label for="bmi">BMI:</label>
                    <input type="number" id="bmi" name="bmi" step="0.01" min="0" placeholder="e.g., 36.60" required>
                </div>

                <div class="form-group">
                    <label for="smoking_status">Smoking Status:</label>
                    <select id="smoking_status" name="smoking_status" required>
                         <option value="">Select Status</option>
                        <option value="0">Never Smoked</option>
                        <option value="1">Smokes</option>
                        <option value="2">Formerly Smoked</option>
                        <option value="3">Unknown</option>
                    </select>
                </div>

                <button type="submit">Predict Stroke Risk</button>
            </form>

            <div id="prediction-result-display">
                <p id="result-text">Please enter data and click "Predict" to see the result.</p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Stroke Prediction App. All rights reserved.</p>
        <p>Disclaimer: This application provides a prediction based on machine learning. It is not a substitute for professional medical advice, diagnosis, or treatment.</p>
    </footer>

    <script>
        // Set active class for current page in navigation
        document.addEventListener('DOMContentLoaded', () => {
            const currentPage = window.location.pathname.split('/').pop();
            document.querySelectorAll('nav ul li a').forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });

        // Form Submission Logic
        document.getElementById('strokePredictForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent default form submission

            const form = event.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            // Convert relevant fields to numbers based on your ML model's expected input
            // Ensure these match your backend's expectations (e.g., '1' for Male, '0' for Female if one-hot encoded in backend)
            data.gender = data.gender === 'Male' ? 1 : (data.gender === 'Female' ? 0 : 2); // Example mapping
            data.age = parseFloat(data.age);
            data.hypertension = parseInt(data.hypertension);
            data.heart_disease = parseInt(data.heart_disease);
            data.ever_married = data.ever_married === 'Yes' ? 1 : 0; // Example mapping
            // For work_type, you'll need one-hot encoding logic that matches your model
            // For simplicity, let's just pass the string, and backend handles encoding.
            // If backend expects numerical: data.work_type = convertWorkTypeToNumber(data.work_type);
            data.Residence_type = parseInt(data.Residence_type); // 0 for Rural, 1 for Urban as per your data
            data.avg_glucose_level = parseFloat(data.avg_glucose_level);
            data.bmi = parseFloat(data.bmi);
            // For smoking_status, you'll need one-hot encoding or numerical mapping.
            // If backend expects numerical: data.smoking_status = convertSmokingStatusToNumber(data.smoking_status);
            // Based on your data: smoking_status: 1.00 (This often implies 'smokes' if it's a binary/encoded feature)
            // Let's assume you pass string and backend handles, or you need a function to map it.
            // Example mapping for smoking_status if it's encoded numerically in your model:
            if (data.smoking_status === '0') data.smoking_status = 0; // Never Smoked
            else if (data.smoking_status === '1') data.smoking_status = 1; // Smokes
            else if (data.smoking_status === '2') data.smoking_status = 2; // Formerly Smoked
            else data.smoking_status = 3; // Unknown (or whatever your model expects)


            // Prepare data for backend (important: adjust keys to match your backend's expectation)
            // The provided data was: gender, age, hypertension, heart_disease, avg_glucose_level, bmi, smoking_status, Residence_type_Rural, Residence_type_Urban
            // You might need to restructure `data` to match the exact keys and format your backend expects,
            // especially for one-hot encoded features like `Residence_type_Rural` and `Residence_type_Urban`.
            // For example, if your backend expects:
            const requestData = {
                "gender": data.gender,
                "age": data.age,
                "hypertension": data.hypertension,
                "heart_disease": data.heart_disease,
                "ever_married": data.ever_married,
                "work_type": data.work_type, // Send as string, let backend encode
                "Residence_type_Rural": data.Residence_type === 0 ? 1 : 0, // Map 0 to Rural_1, 1 to Urban_1
                "Residence_type_Urban": data.Residence_type === 1 ? 1 : 0,
                "avg_glucose_level": data.avg_glucose_level,
                "bmi": data.bmi,
                "smoking_status": data.smoking_status // Send as string or mapped number
                // Add other one-hot encoded work_type columns if your model expects them
                // e.g., "work_type_Govt_job": ..., "work_type_Private": ..., etc.
            };


            const resultDisplayDiv = document.getElementById('prediction-result-display');
            const resultText = document.getElementById('result-text');

            resultText.textContent = "Predicting...";
            resultDisplayDiv.className = ""; // Reset classes
            resultDisplayDiv.style.display = 'block'; // Show the result div

            try {
                // IMPORTANT: Replace '/predict_stroke' with your actual backend API endpoint
                const response = await fetch('/predict_stroke', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestData) // Send the prepared data
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();

                // Assuming your backend sends back 'prediction' (0 or 1) and 'probability'
                if (result.prediction === 1) {
                    resultText.textContent = `Prediction: High Stroke Risk! (Probability: ${(result.probability * 100).toFixed(2)}%)`;
                    resultDisplayDiv.classList.add('result-stroke');
                } else {
                    resultText.textContent = `Prediction: Low Stroke Risk. (Probability: ${(result.probability * 100).toFixed(2)}%)`;
                    resultDisplayDiv.classList.add('result-no-stroke');
                }

            } catch (error) {
                console.error('Error during prediction:', error);
                resultText.textContent = "Error: Could not get prediction. Please check your inputs or try again later.";
                resultDisplayDiv.classList.add('result-stroke'); // Indicate an error visually
            }
        });
    </script>
</body>
</html>